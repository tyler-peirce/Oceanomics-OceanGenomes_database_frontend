{% extends "base.html" %}

{% block title %}View Presets | Lab Data Portal{% endblock %}

{% block content %}
<section class="panel">
    <div class="panel-header row-between">
        <div>
            <h2>Saved view presets</h2>
            <p>Create personal table layouts and filters for faster workflows.</p>
        </div>
        <a href="{% url 'saved_view_create' %}" class="primary-btn">New preset</a>
    </div>

    <div class="table-wrap">
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Status filter</th>
                    <th>Min QC</th>
                    <th>Sort</th>
                    <th>Default</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for view in views %}
                    <tr>
                        <td>{{ view.name }}</td>
                        <td>{{ view.get_status_filter_display|default:"All" }}</td>
                        <td>{{ view.min_qc_score|default:"-" }}</td>
                        <td>{{ view.get_ordering_display }}</td>
                        <td>{% if view.is_default %}Yes{% else %}No{% endif %}</td>
                        <td>
                            <a href="{% url 'saved_view_edit' view.pk %}" class="table-link">Edit</a>
                            <a href="{% url 'saved_view_delete' view.pk %}" class="table-link danger">Delete</a>
                        </td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="6">No presets yet.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>
{% endblock %}
